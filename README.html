<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
</head>
<body>
<div id="TOC">
<ul>
<li><a href="#tutorial-for-the-standard-localizer">TUTORIAL FOR THE STANDARD LOCALIZER</a><ul>
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#launch-the-protocol">Launch the protocol</a><ul>
<li><a href="#basic-level">Basic level</a></li>
<li><a href="#advanced-level">Advanced level</a></li>
</ul></li>
</ul></li>
<li><a href="#import-and-process-data">IMPORT AND PROCESS DATA</a><ul>
<li><a href="#data-importation">Data importation</a></li>
<li><a href="#preprocessing">Preprocessing</a></li>
</ul></li>
</ul>
</div>
<h1 id="tutorial-for-the-standard-localizer">TUTORIAL FOR THE STANDARD LOCALIZER</h1>
<p>This is a simple and fast acquisition procedure based on a 5-minute functional magnetic resonance imaging (fMRI) sequence that can be run as easily and as systematically as an anatomical scan. This protocol captures the cerebral bases of auditory and visual perception, motor actions, reading, language comprehension and mental calculation at an individual level. Individual functional maps are reliable and quite precise. In Pinel et al. 2007 we showed that 80% of main maxima (isolated with a 30-minute long acquisition) were detected in this 5-minute design, with an average spatial precision of 6mm.</p>
<p>When using this protocol for a paper please reference the following article: Pinel P, Thirion B, Meriaux S, Jobert A, Serres J, Le Bihan D, Poline JB and Dehaene S. (2007). Fast reproducible identification and large-scale databasing of individual functional cognitive networks. BMC Neuroscience, 8, 91.</p>
<p>Initially this protocol was proposed in Eprime. But today we like to work with a modular, free and independant of the Operating System. So we propose here a new version of this protocol in python. We use a python framework which is Expyriment (<a href="https://www.expyriment.org/" class="uri">https://www.expyriment.org/</a>) for running stimuli in fMRI.</p>
<p>Here we present the french version, but other version (english, spanish …) are still available in Eprime at If you need a python version, don’t hesitate to post a resquest on the issue part. Some scripts are available to convert Eprime stimuli in csv files in this repository. As we are going to see that in this tutorial, csv files are the files containing the onset, kind of stim and sources of the protocol.</p>
<h2 id="prerequisites">Prerequisites</h2>
<p>To run this stimu, you will need:</p>
<ul>
<li>The python module: Expyriment (<a href="https://www.expyriment.org/" class="uri">https://www.expyriment.org/</a>)</li>
<li>A video screen and projector for visual stimuli</li>
<li>Earphones for auditory stimuli</li>
<li>Two response buttons (usually, subjects’ response are not analyzed; you can eventually just simulate button response) for the left and right thumbs.</li>
</ul>
<p>To acquire the localizer we use a TR of 2.4 sec, and try to cover all the brain (except eventually a part of the cerebellum).</p>
<h2 id="installation">Installation</h2>
<pre><code> cd /tmp
 git clone https://github.com/neurospin-stim/localizer_standard.git
 cd neurospin-stim
 python setup.py install --user</code></pre>
<h2 id="launch-the-protocol">Launch the protocol</h2>
<h3 id="basic-level">Basic level</h3>
<pre><code>    python quick_localizer_standard.py</code></pre>
<h3 id="advanced-level">Advanced level</h3>
<p>The advanced level is the same as the basic level, but we detail the options. All documentation for the options are available by using:</p>
<pre><code>python localizer_standard.py -h</code></pre>
<p>In a few words, the script use a csv file in which the experimentater describes the stimuli. Each line indicates the name of the stim (clicDaudio …), the onset, the kind of stim (sound, rsvp …) and the source (audio file, list of words …).</p>
<p>The command for the localizer protocol with the options is:</p>
<pre><code>python localizer_standard.py --background-color 0 0 0 --text-color 250 250 250 --rsvp-display-time=250 --rsvp-display-isi=100 --picture-display-time=200 --picture-isi=0 --fs_delay_time=100 --stim-dir stim_files --splash ./instructions_localizer_time.csv --total-duration=301000 </code></pre>
<p>The options for the localizer are:</p>
<ul>
<li>–background-color 0 0 0 : color of the background</li>
<li>–text-color 250 250 250 : color of the text</li>
<li>–rsvp-display-time=250 : set the duration of display of single words in rsvp stimuli</li>
<li>–rsvp-display-isi=100 : set the duration of display of single words in rsvp stimuli</li>
<li>–picture-display-time=200 : set the duration of display of pictures</li>
<li>–picture-isi=0 : set the ISI between pictures in pictseq sequence</li>
<li>–fs_delay_time=100 : time between the end of blanck screen and the beginning of fixation cross</li>
<li>–stim-dir stim_files : directory in which stim are available</li>
<li>–splash ./instructions_localizer_time.csv : file for instructions</li>
<li>–total-duration=301000 : all duration of the expyriment</li>
</ul>
<h1 id="import-and-process-data">IMPORT AND PROCESS DATA</h1>
<p>Here we propose one possibity to import and process data. Some points are linked to the neurospin organisation.</p>
<h2 id="data-importation">Data importation</h2>
<p>Please see the importation with BIDS <a href="https://github.com/neurospin/unicog/tree/master/bids" class="uri">https://github.com/neurospin/unicog/tree/master/bids</a>.</p>
<h2 id="preprocessing">Preprocessing</h2>
<p>Please see <a href="https://github.com/neurospin/unicog/tree/master/unicogfmri" class="uri">https://github.com/neurospin/unicog/tree/master/unicogfmri</a>. The onset are available in the csv files. All events are logged with Epyriment. Please take a look into events and data directories.</p>
</body>
</html>
